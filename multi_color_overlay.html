<!DOCTYPE html>
<html lang="en">
	<head>
		<link rel="stylesheet" href="style/resets.css"/>
		<link rel="stylesheet" href="style/global.css"/>
		<link rel="stylesheet" href="style/layout.css"/>
		<link rel="stylesheet" href="style/project_typography.css"/>
		<link rel="stylesheet" href="style/menu.css"/>

		<link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'/>
		<link href='https://fonts.googleapis.com/css?family=Raleway:400,100,200,300,500,600,700,800,900' rel='stylesheet' type='text/css'/>
		<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'/>
		<link href='https://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'/>

        <meta name="viewport" content="width=device-width">
		<meta charset="utf-8"/>

		<title>Multivariate data overlay</title>

		<!-- Add jQuery library -->
		<script type="text/javascript" src="https://code.jquery.com/jquery-latest.min.js"></script>

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.0.47/jquery.fancybox.min.css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.0.47/jquery.fancybox.min.js"></script>

		<link rel="stylesheet" href="style/fancybox_styling.css"/>

		<script type="text/javascript" src="js/global.js"></script>
		<script type="text/javascript" src="js/menu_utils.js"></script>

		<!-- Hotjar Tracking Code for http://berdilaovidiu.github.io/portfolio/ -->
		<script>
			(function(h,o,t,j,a,r){
				h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
				h._hjSettings={hjid:314578,hjsv:5};
				a=o.getElementsByTagName('head')[0];
				r=o.createElement('script');r.async=1;
				r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
				a.appendChild(r);
			})(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
		</script>

		<!-- FullStory Tracking Code for http://berdilaovidiu.github.io/portfolio/ -->
		<script>
            window['_fs_debug'] = false;
            window['_fs_host'] = 'fullstory.com';
            window['_fs_script'] = 'edge.fullstory.com/s/fs.js';
            window['_fs_org'] = 'BNK0F';
            window['_fs_namespace'] = 'FS';
            (function(m,n,e,t,l,o,g,y){
                if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
                g=m[e]=function(a,b,s){g.q?g.q.push([a,b,s]):g._api(a,b,s);};g.q=[];
                o=n.createElement(t);o.async=1;o.crossOrigin='anonymous';o.src='https://'+_fs_script;
                y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
                g.identify=function(i,v,s){g(l,{uid:i},s);if(v)g(l,v,s)};g.setUserVars=function(v,s){g(l,v,s)};g.event=function(i,v,s){g('event',{n:i,p:v},s)};
                g.anonymize=function(){g.identify(!!0)};
                g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
                g.log = function(a,b){g("log",[a,b])};
                g.consent=function(a){g("consent",!arguments.length||a)};
                g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
                g.clearUserCookie=function(){};
                g.setVars=function(n, p){g('setVars',[n,p]);};
                g._w={};y='XMLHttpRequest';g._w[y]=m[y];y='fetch';g._w[y]=m[y];
                if(m[y])m[y]=function(){return g._w[y].apply(this,arguments)};
                g._v="1.3.0";
            })(window,document,window['_fs_namespace'],'script','user');
    	</script>

    </head>

	<body>

        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-65113069-1', 'auto');
            ga('send', 'pageview');

        </script>

		<script type="text/javascript">
            $(document).ready(function() {
                //apply fancybox options
                $("[data-fancybox]").fancybox(fancyboxOptions);

                //init navigation framework
                $("#menu").load("menu.html", function(){
                    initTopMenuActions("body_panel");
                });
            });
		</script>

		<div id="menu"></div>
		<div id="body_panel" class="project">

			<div class="content">

				<div class="date">November 2015 - March 2016</div>
				<div class="title">Multi Color Overlay</div>
				<div class="tagline">Multivariate Data Overlay on Cell Signaling Networks</div>

				<div class="tags">
					<span class="tag">WIREFRAMING</span>
					<span class="tag">VISUAL DESIGN</span>
					<span class="tag">DATA VISUALIZATION</span>
					<span class="tag">SKETCH</span>
					<span class="tag">CODE</span>
					<span class="tag">DESKTOP</span>
				</div>

				<div class="gallery">
					<a data-fancybox="hero"
					   data-caption="The released version"
					   href="img/network_overlay/10.released_version.png">
						<img class="gallery1" src="img/network_overlay/10.released_version.png"/>
					</a>
				</div>


				<p>The feature is part of a large bio informatics desktop application used by researchers to find meaning
					in their genomic data. A lot of the work has to do with interpreting gene expression measurements
					from biological experiments in the context of a large manually curated knowledge base of relationships
					found in published scientific papers.</p>

				<div class="subtitle">Context</div>

				<p>When I joined the project, the product owner and the technical lead already had a pretty good idea of
                    what the final result might look like. So I had to play a little ketch up and understand what was
					the context around the new feature, who needs it and why.</p>

				<div class="gallery">
					<a data-fancybox="original"
					   data-caption="Original mockup, the starting point"
					   href="img/network_overlay/1.original_proposal.png">
						<img class="gallery1" src="img/network_overlay/1.original_proposal.png"/>
					</a>
				</div>

				<p>The problem came down to helping users find interesting patterns in their complex data coming from
					experiments with up to 20 observations, where they recorded up to 8 different measurements.
					The goal was to find interesting connections between genes, pathways and activation, phosphorylation,
					putting it all together in this uber visualization, and to tell a visual story to explain the hypothesis.</p>

				<span class="article_list">The workflow followed three separate steps:</span>
				<ul class="article_list">
					<li>analyze large amounts of data</li>
					<li>emphasize interesting findings in a visual way</li>
					<li>publish the results in scientific papers</li>
				</ul>

				<p>So the design needed to support the workflow and to do that in a way that was compatible with an
					already complex color overlaying mechanism that was used in multiple other features.</p>


				<div class="subtitle">Ideation</div>

                <p>The network already supported one measurement overlay by way of node fill color. The trick was to come
					up with a paradigm that works for one or multiple sets of values, and it was obvious that fill color
					alone was not enough.</p>

				<div class="gallery">
					<a data-fancybox="ideas" class="needsBorder"
					   data-caption="Network overlay ideas"
					   href="img/network_overlay/A4%204x8%20grid%201.png">
						<img class="gallery2 left_image with_border" src="img/network_overlay/A4%204x8%20grid%201.png"/>
					</a>
					<a data-fancybox="ideas" class="needsBorder"
					   data-caption="Ideas for other components of the design"
					   href="img/network_overlay/A4%204x8%20grid%202.png">
						<img class="gallery2 right_image with_border" src="img/network_overlay/A4%204x8%20grid%202.png"/>
					</a>
				</div>

                <p>Starting from the original mock-up, I played with a lot of ideas on how to represent multiple dimensions
					in a way that makes similar molecules easy to spot. This is part of the variations I came up with
					after combining different visualization types with color ranges, data points and labels.</p>

				<div class="gallery">
				<a data-fancybox="ideas"
				   data-caption="Node level visualizations"
				   href="img/network_overlay/2.ideation_collage.png">
					<img class="gallery1" src="img/network_overlay/2.ideation_collage_4_no_margins.png"/>
				</a>
				</div>

                <p>We threw away a lot of ideas, but some of them survived and were tested in the context of a network
					to see how well they meet the original goals.</p>

				<p>The vertical bars and the parallel coordinates were the most popular and did not disappoint during
					test either, although the last one needed more simplification since it was very heavy on the eye.</p>

                <div class="gallery">
				    <a data-fancybox="ideas"
					   data-caption="Integration test with bar charts"
					   href="img/network_overlay/3.integration_test_bars.png">
						<img class="gallery2 left_image" src="img/network_overlay/3.integration_test_bars.png"/>
					</a>
				    <a data-fancybox="ideas"
					   data-caption="Integration test with bar sunbursts"
					   href="img/network_overlay/4.integration_test_sunburst.png">
						<img class="gallery2 right_image" src="img/network_overlay/4.integration_test_sunburst.png"/>
					</a>

					<span class="gallery_separator"></span>

					<a data-fancybox="ideas"
					   data-caption="Integration test with parallel coordinates charts"
					   href="img/network_overlay/5.integration_test_worms.png">
						<img class="gallery2 left_image" src="img/network_overlay/5.integration_test_worms.png"/>
					</a>
				    <a data-fancybox="ideas"
					   data-caption="Simplified version of the parallel coordinates charts"
					   href="img/network_overlay/6.integration_test_worms_simplified.png">
						<img class="gallery2 right_image" src="img/network_overlay/6.integration_test_worms_simplified.png"/>
					</a>
				</div>

                <p>The last piece of the puzzle was the exported image design, since the ultimate goal of the users was
					to publish their interesting findings. The parallel coordinates view with all data points superimposed
					worked great as a legend since the trends are easy to see and easy to match with the molecules
					emphasized on the network.</p>

                <div class="gallery">
                    <a data-fancybox="ideas" class="needsBorder"
					   data-caption="Exported image for a single observation with multiple measurements"
					   href="img/network_overlay/7.export_1.png">
						<img class="gallery2 left_image with_border" src="img/network_overlay/7.export_1.png"/>
					</a>
                    <a data-fancybox="ideas" class="needsBorder"
					   data-caption="Exported image for multiple observations with a single measurement"
					   href="img/network_overlay/7.export_2.png">
						<img class="gallery2 right_image with_border" src="img/network_overlay/7.export_2.png"/>
					</a>
                </div>

				<div class="subtitle">Moving away from the network</div>

				<p>Even though I was able to simplify the overlay representation quite a bit, the network turned out to
					be the wrong place for the kind of data analysis needed. In order to enhance the pattern finding experience,
				the values need to be sorted, filtered and the visualizations aligned vertically, to facilitate visual comparisons.</p>

				<p>A table was much more suitable for the task at hand and we decided to explore with a table of all
					the molecules measured during the experiments.</p>

                <div class="gallery">
                    <a data-fancybox="side"
					   data-caption="Molecules table variations"
					   href="img/network_overlay/8.table_sparkline_variations.png">
						<img class="gallery1" src="img/network_overlay/8.table_sparkline_variations.png"/>
					</a>
                </div>

				<p>One of the most frequent issues with data analysis is the amount of data. We were expecting datasets
					with up to 5000 molecules and it was obvious that we have to guide the users by suggesting
					some automatically discovered patterns of interest. That was done by way of smart filtering.</p>

				<div class="gallery">
                    <a data-fancybox="side"
					   data-caption="Molecules table filtering"
					   href="img/network_overlay/10.molecules_table_filters.png">
						<img class="gallery1center" src="img/network_overlay/10.molecules_table_filters.png"/>
					</a>
                </div>

				<p>The dataset picker had also an important role in the design because it allowed selection of multiple
					observations and displayed some metadata for each of them. More than that, since the order and
					grouping of the observations was important for the analysis, we allowed moving datasets up and down.
					Those operations affected the visualizations from the table and network.</p>

				<div class="gallery">
                    <a data-fancybox="side"
					   data-caption="Dataset picker"
					   href="img/network_overlay/9.dataset_picker.png">
						<img class="gallery1center" src="img/network_overlay/9.dataset_picker.png"/>
					</a>
                </div>

				<div class="subtitle">Network overlay</div>

				<p>While the data analysis did not make sense in the context of the network, once the interesting molecules
					were spotted, it made sense to emphasize them on the network, to enrich the hypothesis with interactions and
				to allow publishing by simply exporting the view.</p>

				<div class="gallery">
					<a data-fancybox="overlay"
					   data-caption="Overlaying charts on the network"
					   href="img/network_overlay/11.chart.png">
						<img class="gallery1" src="img/network_overlay/11.chart.png"/>
					</a>
				</div>

				<p>The node charts came with some layout challenges since they needed to accommodate up to 20 bars. Since
				they were so big, we offered a minimized view that could be expanded to see more information, all on a
					semi transparent background so that the network was still perceivable.</p>

				<div class="subtitle">Conclusions</div>

				<p>User testing was done during both design and development phases. We started by asking feedback early on
					and continued with beta testing when the feature was almost implemented. The requested changes were small and
					did not affect the original design very much.</p>

				<p>I have to mention that this was the first time I was given a central role in the design process and
					I was also the one coding the feature, all inside a three months release time frame. It was a pretty
					ambitious goal, but it also came with a lot of satisfaction.</p>

                <p>This is a screenshot of the version that was released and the immediate feedback was very positive.</p>

				<div class="gallery">
				<a data-fancybox="final"
				   data-caption="The released version"
				   href="img/network_overlay/10.released_version.png">
					<img class="gallery1" src="img/network_overlay/10.released_version.png"/>
				</a>
				</div>

				<p>Here are some quotes from the emails that followed, mostly from the sales and management team:</p>

				<p class="pullquote-wide">The new multi-overlay that went into production this week helped the Sales team close a sale! That’s immediate impact. Nice job team!</p>
				<p class="pullquote-wide">Qian and I received the PO right after her demo. Qian was great and the new features rock!!</p>
				<p class="pullquote-wide">I demo-ed multiple overlay feature by opening TCA cycle of dbMouse metabolomics analysis and overlaying adipose/liver/muscle expression dataset together. They were very impressed by this new multi-overlay feature.Thank you for all the effort in developing the cool features!</p>

				<div id="disqus_thread"></div>
				<script>

                    /**
                     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
					/*
					 var disqus_config = function () {
					 this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
					 this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
					 };
					 */
                    (function() { // DON'T EDIT BELOW THIS LINE
                        var d = document, s = d.createElement('script');
                        s.src = '//ovidiu-berdila-ux.disqus.com/embed.js';
                        s.setAttribute('data-timestamp', +new Date());
                        (d.head || d.body).appendChild(s);
                    })();
				</script>

			</div>
		</div>
	</body>
</html>
